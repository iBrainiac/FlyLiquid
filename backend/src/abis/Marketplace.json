{
  "_format": "hh-sol-artifact-1",
  "contractName": "Marketplace",
  "sourceName": "contracts/MarketPlace.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_ticketNFTAddress",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_usdcAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_initialFee",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "Marketplace__CannotBuyOwnItem",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Marketplace__FeePaymentFailed",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Marketplace__FeeTooHigh",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Marketplace__InvalidPrice",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Marketplace__ItemNotForSale",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Marketplace__NotAdmin",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Marketplace__NotApproved",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Marketplace__NotTokenOwner",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Marketplace__NotYourListing",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Marketplace__SellerPaymentFailed",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Marketplace__TokenNotIdle",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Marketplace__USDCTransferFailed",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ReentrancyGuardReentrantCall",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newFee",
          "type": "uint256"
        }
      ],
      "name": "FeeUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "seller",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "name": "ItemListed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "seller",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "name": "ItemSold",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "seller",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "ListingCancelled",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "buyItem",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "cancelListing",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getAdmin",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "getListing",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "seller",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "price",
              "type": "uint256"
            }
          ],
          "internalType": "struct Marketplace.Listing",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getProtocolFee",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "i_admin",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "name": "listItem",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "protocolFeeBasisPoints",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "s_listings",
      "outputs": [
        {
          "internalType": "address",
          "name": "seller",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_newFee",
          "type": "uint256"
        }
      ],
      "name": "setFee",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "ticketNFT",
      "outputs": [
        {
          "internalType": "contract ITicketNFT",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "usdc",
      "outputs": [
        {
          "internalType": "contract IUSDC",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x60e060405234801561001057600080fd5b5060405161103738038061103783398101604081905261002f91610092565b60016000556103e881111561005757604051634322b74360e01b815260040160405180910390fd5b6001600160a01b03928316608052911660a0523360c0526001556100ce565b80516001600160a01b038116811461008d57600080fd5b919050565b6000806000606084860312156100a757600080fd5b6100b084610076565b92506100be60208501610076565b9150604084015190509250925092565b60805160a05160c051610ed861015f60003960008181610190015281816101c7015281816103e60152610a40015260008181610151015281816108e70152818161099f01528181610a6f0152610b2c01526000818161021e01528181610331015281816104c40152818161057b0152818161063a0152818161072f01528181610be20152610c530152610ed86000f3fe608060405234801561001057600080fd5b50600436106100b45760003560e01c8063883efa6711610071578063883efa67146101eb578063a5a41031146101fe578063b2b85d9314610210578063b393391b14610219578063c477376114610240578063e7fb74c71461029257600080fd5b8063107a274a146100b9578063305a67a8146101375780633e413bee1461014c5780634c43d2841461018b57806369fe0e2d146101b25780636e9960c3146101c5575b600080fd5b61010e6100c7366004610d44565b604080518082019091526000808252602082015250600090815260026020908152604091829020825180840190935280546001600160a01b03168352600101549082015290565b6040805182516001600160a01b0316815260209283015192810192909252015b60405180910390f35b61014a610145366004610d44565b6102a5565b005b6101737f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200161012e565b6101737f000000000000000000000000000000000000000000000000000000000000000081565b61014a6101c0366004610d44565b6103db565b7f0000000000000000000000000000000000000000000000000000000000000000610173565b61014a6101f9366004610d5d565b610482565b6001545b60405190815260200161012e565b61020260015481565b6101737f000000000000000000000000000000000000000000000000000000000000000081565b61027361024e366004610d44565b600260205260009081526040902080546001909101546001600160a01b039091169082565b604080516001600160a01b03909316835260208301919091520161012e565b61014a6102a0366004610d44565b6107e3565b6102ad610d1a565b600081815260026020908152604091829020825180840190935280546001600160a01b031680845260019091015491830191909152331461030157604051635136aea160e01b815260040160405180910390fd5b60008281526002602052604080822080546001600160a01b031916815560010182905551636f81582b60e01b81527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031691636f81582b9161036e918691600401610d95565b600060405180830381600087803b15801561038857600080fd5b505af115801561039c573d6000803e3d6000fd5b50506040518492503391507f93ec4766fcd2d9dfdceab8f2e13ba0d9d826645cf03167fdb92b3b7359b5248c90600090a3506103d86001600055565b50565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146104245760405163dc7becbd60e01b815260040160405180910390fd5b6103e881111561044757604051634322b74360e01b815260040160405180910390fd5b60018190556040518181527f8c4d35e54a3f2ef1134138fd8ea3daee6a3c89e10d2665996babdf70261e2c769060200160405180910390a150565b61048a610d1a565b806000036104ab576040516323de483d60e01b815260040160405180910390fd5b6040516331a9108f60e11b8152600481018390526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690636352211e90602401602060405180830381865afa158015610513573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105379190610dc7565b90506001600160a01b03811633146105625760405163084ce0af60e11b815260040160405180910390fd5b60405163f45fd0f360e01b8152600481018490526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063f45fd0f390602401602060405180830381865afa1580156105ca573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105ee9190610df7565b9050600081600381111561060457610604610d7f565b146106215760405162eefd9760e31b815260040160405180910390fd5b60405163020604bf60e21b8152600481018590526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063081812fc90602401602060405180830381865afa158015610689573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106ad9190610dc7565b90506001600160a01b03811630146106d857604051639fcee68760e01b815260040160405180910390fd5b60408051808201825233815260208082018781526000898152600290925290839020915182546001600160a01b0319166001600160a01b0391821617835590516001909201919091559051636f81582b60e01b81527f000000000000000000000000000000000000000000000000000000000000000090911690636f81582b90610769908890600390600401610d95565b600060405180830381600087803b15801561078357600080fd5b505af1158015610797573d6000803e3d6000fd5b50506040518681528792503391507f94e7b934c857a9e3202e8ed9c1f3f96e396b7d2b5885930d2001abcb51ff58fa9060200160405180910390a35050506107df6001600055565b5050565b6107eb610d1a565b6000818152600260209081526040808320815180830190925280546001600160a01b0316808352600190910154928201839052909290919081900361084357604051635075a42d60e11b815260040160405180910390fd5b336001600160a01b0383160361086c57604051635258897560e11b815260040160405180910390fd5b600084815260026020526040812080546001600160a01b03191681556001908101919091555415610b00576000612710600154836108aa9190610e2e565b6108b49190610e4b565b905060006108c28284610e6d565b6040516323b872dd60e01b8152336004820152306024820152604481018590529091507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906323b872dd906064016020604051808303816000875af1158015610938573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061095c9190610e80565b610979576040516301671f7560e31b815260040160405180910390fd5b60405163a9059cbb60e01b81526001600160a01b038581166004830152602482018390527f0000000000000000000000000000000000000000000000000000000000000000169063a9059cbb906044016020604051808303816000875af11580156109e8573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a0c9190610e80565b610a2957604051635587b52760e11b815260040160405180910390fd5b60405163a9059cbb60e01b81526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000081166004830152602482018490527f0000000000000000000000000000000000000000000000000000000000000000169063a9059cbb906044016020604051808303816000875af1158015610ab8573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610adc9190610e80565b610af9576040516311e0a00360e31b815260040160405180910390fd5b5050610bb6565b6040516323b872dd60e01b81523360048201526001600160a01b038381166024830152604482018390527f000000000000000000000000000000000000000000000000000000000000000016906323b872dd906064016020604051808303816000875af1158015610b75573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b999190610e80565b610bb6576040516301671f7560e31b815260040160405180910390fd5b6040516323b872dd60e01b81526001600160a01b038381166004830152336024830152604482018690527f000000000000000000000000000000000000000000000000000000000000000016906323b872dd90606401600060405180830381600087803b158015610c2657600080fd5b505af1158015610c3a573d6000803e3d6000fd5b5050604051636f81582b60e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169250636f81582b9150610c8d908790600090600401610d95565b600060405180830381600087803b158015610ca757600080fd5b505af1158015610cbb573d6000803e3d6000fd5b5050505083336001600160a01b0316836001600160a01b03167fc36542c7a190a4c20a7f15a0ddc46871de452f269f15b0e621f11b48463b299f84604051610d0591815260200190565b60405180910390a45050506103d86001600055565b600260005403610d3d57604051633ee5aeb560e01b815260040160405180910390fd5b6002600055565b600060208284031215610d5657600080fd5b5035919050565b60008060408385031215610d7057600080fd5b50508035926020909101359150565b634e487b7160e01b600052602160045260246000fd5b8281526040810160048310610dba57634e487b7160e01b600052602160045260246000fd5b8260208301529392505050565b600060208284031215610dd957600080fd5b81516001600160a01b0381168114610df057600080fd5b9392505050565b600060208284031215610e0957600080fd5b815160048110610df057600080fd5b634e487b7160e01b600052601160045260246000fd5b8082028115828204841417610e4557610e45610e18565b92915050565b600082610e6857634e487b7160e01b600052601260045260246000fd5b500490565b81810381811115610e4557610e45610e18565b600060208284031215610e9257600080fd5b81518015158114610df057600080fdfea26469706673582212201cfe7108550b8a7246810db3215fe34fa815017b3bd54f210037b48c51dd8c5664736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100b45760003560e01c8063883efa6711610071578063883efa67146101eb578063a5a41031146101fe578063b2b85d9314610210578063b393391b14610219578063c477376114610240578063e7fb74c71461029257600080fd5b8063107a274a146100b9578063305a67a8146101375780633e413bee1461014c5780634c43d2841461018b57806369fe0e2d146101b25780636e9960c3146101c5575b600080fd5b61010e6100c7366004610d44565b604080518082019091526000808252602082015250600090815260026020908152604091829020825180840190935280546001600160a01b03168352600101549082015290565b6040805182516001600160a01b0316815260209283015192810192909252015b60405180910390f35b61014a610145366004610d44565b6102a5565b005b6101737f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200161012e565b6101737f000000000000000000000000000000000000000000000000000000000000000081565b61014a6101c0366004610d44565b6103db565b7f0000000000000000000000000000000000000000000000000000000000000000610173565b61014a6101f9366004610d5d565b610482565b6001545b60405190815260200161012e565b61020260015481565b6101737f000000000000000000000000000000000000000000000000000000000000000081565b61027361024e366004610d44565b600260205260009081526040902080546001909101546001600160a01b039091169082565b604080516001600160a01b03909316835260208301919091520161012e565b61014a6102a0366004610d44565b6107e3565b6102ad610d1a565b600081815260026020908152604091829020825180840190935280546001600160a01b031680845260019091015491830191909152331461030157604051635136aea160e01b815260040160405180910390fd5b60008281526002602052604080822080546001600160a01b031916815560010182905551636f81582b60e01b81527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031691636f81582b9161036e918691600401610d95565b600060405180830381600087803b15801561038857600080fd5b505af115801561039c573d6000803e3d6000fd5b50506040518492503391507f93ec4766fcd2d9dfdceab8f2e13ba0d9d826645cf03167fdb92b3b7359b5248c90600090a3506103d86001600055565b50565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146104245760405163dc7becbd60e01b815260040160405180910390fd5b6103e881111561044757604051634322b74360e01b815260040160405180910390fd5b60018190556040518181527f8c4d35e54a3f2ef1134138fd8ea3daee6a3c89e10d2665996babdf70261e2c769060200160405180910390a150565b61048a610d1a565b806000036104ab576040516323de483d60e01b815260040160405180910390fd5b6040516331a9108f60e11b8152600481018390526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690636352211e90602401602060405180830381865afa158015610513573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105379190610dc7565b90506001600160a01b03811633146105625760405163084ce0af60e11b815260040160405180910390fd5b60405163f45fd0f360e01b8152600481018490526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063f45fd0f390602401602060405180830381865afa1580156105ca573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105ee9190610df7565b9050600081600381111561060457610604610d7f565b146106215760405162eefd9760e31b815260040160405180910390fd5b60405163020604bf60e21b8152600481018590526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063081812fc90602401602060405180830381865afa158015610689573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106ad9190610dc7565b90506001600160a01b03811630146106d857604051639fcee68760e01b815260040160405180910390fd5b60408051808201825233815260208082018781526000898152600290925290839020915182546001600160a01b0319166001600160a01b0391821617835590516001909201919091559051636f81582b60e01b81527f000000000000000000000000000000000000000000000000000000000000000090911690636f81582b90610769908890600390600401610d95565b600060405180830381600087803b15801561078357600080fd5b505af1158015610797573d6000803e3d6000fd5b50506040518681528792503391507f94e7b934c857a9e3202e8ed9c1f3f96e396b7d2b5885930d2001abcb51ff58fa9060200160405180910390a35050506107df6001600055565b5050565b6107eb610d1a565b6000818152600260209081526040808320815180830190925280546001600160a01b0316808352600190910154928201839052909290919081900361084357604051635075a42d60e11b815260040160405180910390fd5b336001600160a01b0383160361086c57604051635258897560e11b815260040160405180910390fd5b600084815260026020526040812080546001600160a01b03191681556001908101919091555415610b00576000612710600154836108aa9190610e2e565b6108b49190610e4b565b905060006108c28284610e6d565b6040516323b872dd60e01b8152336004820152306024820152604481018590529091507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906323b872dd906064016020604051808303816000875af1158015610938573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061095c9190610e80565b610979576040516301671f7560e31b815260040160405180910390fd5b60405163a9059cbb60e01b81526001600160a01b038581166004830152602482018390527f0000000000000000000000000000000000000000000000000000000000000000169063a9059cbb906044016020604051808303816000875af11580156109e8573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a0c9190610e80565b610a2957604051635587b52760e11b815260040160405180910390fd5b60405163a9059cbb60e01b81526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000081166004830152602482018490527f0000000000000000000000000000000000000000000000000000000000000000169063a9059cbb906044016020604051808303816000875af1158015610ab8573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610adc9190610e80565b610af9576040516311e0a00360e31b815260040160405180910390fd5b5050610bb6565b6040516323b872dd60e01b81523360048201526001600160a01b038381166024830152604482018390527f000000000000000000000000000000000000000000000000000000000000000016906323b872dd906064016020604051808303816000875af1158015610b75573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b999190610e80565b610bb6576040516301671f7560e31b815260040160405180910390fd5b6040516323b872dd60e01b81526001600160a01b038381166004830152336024830152604482018690527f000000000000000000000000000000000000000000000000000000000000000016906323b872dd90606401600060405180830381600087803b158015610c2657600080fd5b505af1158015610c3a573d6000803e3d6000fd5b5050604051636f81582b60e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169250636f81582b9150610c8d908790600090600401610d95565b600060405180830381600087803b158015610ca757600080fd5b505af1158015610cbb573d6000803e3d6000fd5b5050505083336001600160a01b0316836001600160a01b03167fc36542c7a190a4c20a7f15a0ddc46871de452f269f15b0e621f11b48463b299f84604051610d0591815260200190565b60405180910390a45050506103d86001600055565b600260005403610d3d57604051633ee5aeb560e01b815260040160405180910390fd5b6002600055565b600060208284031215610d5657600080fd5b5035919050565b60008060408385031215610d7057600080fd5b50508035926020909101359150565b634e487b7160e01b600052602160045260246000fd5b8281526040810160048310610dba57634e487b7160e01b600052602160045260246000fd5b8260208301529392505050565b600060208284031215610dd957600080fd5b81516001600160a01b0381168114610df057600080fd5b9392505050565b600060208284031215610e0957600080fd5b815160048110610df057600080fd5b634e487b7160e01b600052601160045260246000fd5b8082028115828204841417610e4557610e45610e18565b92915050565b600082610e6857634e487b7160e01b600052601260045260246000fd5b500490565b81810381811115610e4557610e45610e18565b600060208284031215610e9257600080fd5b81518015158114610df057600080fdfea26469706673582212201cfe7108550b8a7246810db3215fe34fa815017b3bd54f210037b48c51dd8c5664736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
